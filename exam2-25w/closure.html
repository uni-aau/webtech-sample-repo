<html>
  <body>
    <script>
      // Closure - Define a function inside another function
      // Inner Function has access to the other function (lexical scoping) but not the other way

      function outer() {
        let message = "Outer message";

        function inner() {
          var test = 5;
          console.log(message);
        }
        // console.log(test); // Not possible since outer function is not aware of variables in inner function except global ones

        return inner;
      }

      let result = outer(); // Result equals inner function
      console.log(result);
      result(); // Since result equals inner function, we can call it => It prints the message from the outer function


      
      // Also possible to return function directly via return
      function createCounter() {
        let count = 0; // Enclosed variable

        return function () { // Arrow functions also possible
          count += 1;
          return count;
        };
      }

      const counter = createCounter();
      console.log(counter()); // Output: 1
      console.log(counter()); // Output: 2
      console.log(counter()); // Output: 3



      // Also possible to give inner function more than one parameter, but they are ignored when calling the method
      function outer2(a, b) {
        return (c) => {
          console.log(`Inner: c = ${c}`);
        };
      }

      const outerFunction = outer2(1, 2);
      console.log("Outer: " + outerFunction);
      outerFunction(1, 2, 3);
    </script>
  </body>
</html>
